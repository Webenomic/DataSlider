<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="../dist/data-slider.js"></script>
<link rel="stylesheet" href="../dist/data-slider.css"></link>
<style type="text/css">
body,html {
    font-family:arial;
    font-size:14px;
}

</style>
</head>
<body style="">


<div style="padding:0px;width:700px;">
<div id="sliderDiv" style="width:100%;"></div>

<div id="sliderDiv2" style="width:100%;"></div>
</div>


<div style="padding-top:40px;" wbn-bind-transform="t1" wbn-bind="foo"> </div>

<input type="number" wbn-bind="foo"><br>
Slider Height: <input type="range" onInput="slider.config.height = this.value;slider.ui.update();" min="1" max="20" step="1"><br>

Handle Height: <input type="range" onInput="slider.config.handle.height = this.value;slider.ui.update();" min="10" max="80" step="1"><br>
Handle Width: <input type="range" onInput="slider.config.handle.width = this.value;slider.ui.update();" min="10" max="80" step="1"><br>
Handle Radius: <input type="range" onInput="slider.config.handle.borderRadius = this.value;slider.ui.update();" min="0" max="80" step="1"><br>

Min: <input type="range" onInput="updateMin(Number(this.value))" min="0" max="2" step="0.05"><br>
Max: <input type="range" onInput="updateMax(Number(this.value))" value="2" min="2" max="10" step="1"><br>


<input type="checkbox" checked onClick="slider.config.handle.show = this.checked;slider.ui.update();"> Show Handle
<input type="checkbox" checked onClick="slider.config.ribbon.show = this.checked;slider.ui.update();"> Show Ribbon

<script>


foo=1;



var t1 = (val) => {return Number(val).toFixed(2) }; 
var t2 = (val) => {return val+'***'}; 

var options = (boundVar) => { 
	return {
		height:5,
		defaultValue:foo,
		responsive:true,
		range:{
		    min:0.25,
		    max:2,
		    decimals:2,
		    step:0.05
		},
		ticks: {
		    data:[0.25,0.50,0.75,1,1.25,1.5,2].map((tick,i) => {
		           return { 
		               value: tick, 
		               label: (val) => { return val + 'x'; },
		               //style: tick == 1 ? 'bubble' : 'scale',
		
		           }
		    }),
		    snap:false,
		    labelsClickable: true,
		    position:'auto',
		    style:'bubble'
		},
		tooltip: {
			label: {
				text:(val) => { return val + 'x'; }
			}
		},
		ribbon: {
		    show:true
		},
		handle: {
		    show:true
		},
		dataBinding: {
			scope:window,
			property:'foo'
		}
	};
}

//var sliders = [];


slider = new DataSlider(document.getElementById('sliderDiv'),options('foo'));

function updateMin(minValue) {
	let config = slider.config;
	config.defaultValue = currentValue;
    config.range.min = minValue;
    //if (config.ticks.data[0].value > minValue) {
    //config.ticks.data.push({value:minValue});
    //}
    console.log(config.ticks.data);
    slider.reset(slider.value);

}

function updateMax(maxValue) {
    let config = slider.config;
    config.range.max = maxValue;
    //config.ticks.data.push({value:maxValue});
    slider.reset(slider.value);
}

/*
var tooltipElement = document.getElementById('tooltipElement');
var listenerElement = document.getElementsByClassName('wbn_ds_container')[0].parentElement;

 listenerElement.addEventListener('mousemove',(e) => {
  tooltipElement.style.display = 'block'; 
  tooltipElement.innerHTML = Math.round(((e.clientX - listenerElement.offsetLeft) / listenerElement.getBoundingClientRect().width).toFixed(2) * 100); 
  Object.assign(tooltipElement.style,{
   left: e.clientX,
   top: 40
  });
 });
 
 listenerElement.addEventListener('mouseout',(e) => {
  tooltipElement.style.display = 'none'; 
 });
   
*/





</script>

</body>

</html>